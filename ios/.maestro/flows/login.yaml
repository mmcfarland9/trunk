appId: mpmcf.Trunk
name: Login - Email OTP Authentication
---

# Launch the app fresh (clear keychain to remove any auth session)
- launchApp:
    clearState: false
    clearKeychain: true

# Should see login screen branding
- assertVisible: "TRUNK"
- assertVisible: "Reap what you sow"

# Email field should be visible
- assertVisible: "Email address"

# Enter test email
- tapOn: "Email address"
- inputText: "test@trunk.michaelpmcfarland.com"

# Send code button should be enabled
- tapOn: "SEND CODE"

# Should auto-authenticate and reach the main app
- extendedWaitUntil:
    visible: "Today"
    timeout: 20000
